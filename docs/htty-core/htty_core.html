<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="pdoc 15.0.4"/>
    <title>htty_core API documentation</title>

    <style>/*! * Bootstrap Reboot v5.0.0 (https://getbootstrap.com/) * Copyright 2011-2021 The Bootstrap Authors * Copyright 2011-2021 Twitter, Inc. * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE) * Forked from Normalize.css, licensed MIT (https://github.com/necolas/normalize.css/blob/master/LICENSE.md) */*,::after,::before{box-sizing:border-box}@media (prefers-reduced-motion:no-preference){:root{scroll-behavior:smooth}}body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans","Liberation Sans",sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:transparent}hr{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr:not([size]){height:1px}h1,h2,h3,h4,h5,h6{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1{font-size:calc(1.375rem + 1.5vw)}@media (min-width:1200px){h1{font-size:2.5rem}}h2{font-size:calc(1.325rem + .9vw)}@media (min-width:1200px){h2{font-size:2rem}}h3{font-size:calc(1.3rem + .6vw)}@media (min-width:1200px){h3{font-size:1.75rem}}h4{font-size:calc(1.275rem + .3vw)}@media (min-width:1200px){h4{font-size:1.5rem}}h5{font-size:1.25rem}h6{font-size:1rem}p{margin-top:0;margin-bottom:1rem}abbr[data-bs-original-title],abbr[title]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address{margin-bottom:1rem;font-style:normal;line-height:inherit}ol,ul{padding-left:2rem}dl,ol,ul{margin-top:0;margin-bottom:1rem}ol ol,ol ul,ul ol,ul ul{margin-bottom:0}dt{font-weight:700}dd{margin-bottom:.5rem;margin-left:0}blockquote{margin:0 0 1rem}b,strong{font-weight:bolder}small{font-size:.875em}mark{padding:.2em;background-color:#fcf8e3}sub,sup{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}a{color:#0d6efd;text-decoration:underline}a:hover{color:#0a58ca}a:not([href]):not([class]),a:not([href]):not([class]):hover{color:inherit;text-decoration:none}code,kbd,pre,samp{font-family:SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace;font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre code{font-size:inherit;color:inherit;word-break:normal}code{font-size:.875em;color:#d63384;word-wrap:break-word}a>code{color:inherit}kbd{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd kbd{padding:0;font-size:1em;font-weight:700}figure{margin:0 0 1rem}img,svg{vertical-align:middle}table{caption-side:bottom;border-collapse:collapse}caption{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th{text-align:inherit;text-align:-webkit-match-parent}tbody,td,tfoot,th,thead,tr{border-color:inherit;border-style:solid;border-width:0}label{display:inline-block}button{border-radius:0}button:focus:not(:focus-visible){outline:0}button,input,optgroup,select,textarea{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button,select{text-transform:none}[role=button]{cursor:pointer}select{word-wrap:normal}select:disabled{opacity:1}[list]::-webkit-calendar-picker-indicator{display:none}[type=button],[type=reset],[type=submit],button{-webkit-appearance:button}[type=button]:not(:disabled),[type=reset]:not(:disabled),[type=submit]:not(:disabled),button:not(:disabled){cursor:pointer}::-moz-focus-inner{padding:0;border-style:none}textarea{resize:vertical}fieldset{min-width:0;padding:0;margin:0;border:0}legend{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width:1200px){legend{font-size:1.5rem}}legend+*{clear:left}::-webkit-datetime-edit-day-field,::-webkit-datetime-edit-fields-wrapper,::-webkit-datetime-edit-hour-field,::-webkit-datetime-edit-minute,::-webkit-datetime-edit-month-field,::-webkit-datetime-edit-text,::-webkit-datetime-edit-year-field{padding:0}::-webkit-inner-spin-button{height:auto}[type=search]{outline-offset:-2px;-webkit-appearance:textfield}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-color-swatch-wrapper{padding:0}::file-selector-button{font:inherit}::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output{display:inline-block}iframe{border:0}summary{display:list-item;cursor:pointer}progress{vertical-align:baseline}[hidden]{display:none!important}</style>
    <style>/*! syntax-highlighting.css */pre{line-height:125%;}span.linenos{color:inherit; background-color:transparent; padding-left:5px; padding-right:20px;}.pdoc-code .hll{background-color:#ffffcc}.pdoc-code{background:#f8f8f8;}.pdoc-code .c{color:#3D7B7B; font-style:italic}.pdoc-code .err{border:1px solid #FF0000}.pdoc-code .k{color:#008000; font-weight:bold}.pdoc-code .o{color:#666666}.pdoc-code .ch{color:#3D7B7B; font-style:italic}.pdoc-code .cm{color:#3D7B7B; font-style:italic}.pdoc-code .cp{color:#9C6500}.pdoc-code .cpf{color:#3D7B7B; font-style:italic}.pdoc-code .c1{color:#3D7B7B; font-style:italic}.pdoc-code .cs{color:#3D7B7B; font-style:italic}.pdoc-code .gd{color:#A00000}.pdoc-code .ge{font-style:italic}.pdoc-code .gr{color:#E40000}.pdoc-code .gh{color:#000080; font-weight:bold}.pdoc-code .gi{color:#008400}.pdoc-code .go{color:#717171}.pdoc-code .gp{color:#000080; font-weight:bold}.pdoc-code .gs{font-weight:bold}.pdoc-code .gu{color:#800080; font-weight:bold}.pdoc-code .gt{color:#0044DD}.pdoc-code .kc{color:#008000; font-weight:bold}.pdoc-code .kd{color:#008000; font-weight:bold}.pdoc-code .kn{color:#008000; font-weight:bold}.pdoc-code .kp{color:#008000}.pdoc-code .kr{color:#008000; font-weight:bold}.pdoc-code .kt{color:#B00040}.pdoc-code .m{color:#666666}.pdoc-code .s{color:#BA2121}.pdoc-code .na{color:#687822}.pdoc-code .nb{color:#008000}.pdoc-code .nc{color:#0000FF; font-weight:bold}.pdoc-code .no{color:#880000}.pdoc-code .nd{color:#AA22FF}.pdoc-code .ni{color:#717171; font-weight:bold}.pdoc-code .ne{color:#CB3F38; font-weight:bold}.pdoc-code .nf{color:#0000FF}.pdoc-code .nl{color:#767600}.pdoc-code .nn{color:#0000FF; font-weight:bold}.pdoc-code .nt{color:#008000; font-weight:bold}.pdoc-code .nv{color:#19177C}.pdoc-code .ow{color:#AA22FF; font-weight:bold}.pdoc-code .w{color:#bbbbbb}.pdoc-code .mb{color:#666666}.pdoc-code .mf{color:#666666}.pdoc-code .mh{color:#666666}.pdoc-code .mi{color:#666666}.pdoc-code .mo{color:#666666}.pdoc-code .sa{color:#BA2121}.pdoc-code .sb{color:#BA2121}.pdoc-code .sc{color:#BA2121}.pdoc-code .dl{color:#BA2121}.pdoc-code .sd{color:#BA2121; font-style:italic}.pdoc-code .s2{color:#BA2121}.pdoc-code .se{color:#AA5D1F; font-weight:bold}.pdoc-code .sh{color:#BA2121}.pdoc-code .si{color:#A45A77; font-weight:bold}.pdoc-code .sx{color:#008000}.pdoc-code .sr{color:#A45A77}.pdoc-code .s1{color:#BA2121}.pdoc-code .ss{color:#19177C}.pdoc-code .bp{color:#008000}.pdoc-code .fm{color:#0000FF}.pdoc-code .vc{color:#19177C}.pdoc-code .vg{color:#19177C}.pdoc-code .vi{color:#19177C}.pdoc-code .vm{color:#19177C}.pdoc-code .il{color:#666666}</style>
    <style>/*! theme.css */:root{  --pdoc-background:#212529;}.pdoc{  --text:#f7f7f7;  --muted:#9d9d9d;  --link:#58a6ff;  --link-hover:#3989ff;  --code:#1a1a1a;  --active:#555;  --accent:#1a1a1a;  --accent2:#555;  --nav-hover:rgba(0, 0, 0, 0.1);  --name:#9DCDFF;  --def:#0cdd0c;  --annotation:#00c037;}</style>
    <style>/*! layout.css */html, body{width:100%;height:100%;}html, main{scroll-behavior:smooth;}body{background-color:var(--pdoc-background);}@media (max-width:769px){#navtoggle{cursor:pointer;position:absolute;width:50px;height:40px;top:1rem;right:1rem;border-color:var(--text);color:var(--text);display:flex;opacity:0.8;z-index:999;}#navtoggle:hover{opacity:1;}#togglestate + div{display:none;}#togglestate:checked + div{display:inherit;}main, header{padding:2rem 3vw;}header + main{margin-top:-3rem;}.git-button{display:none !important;}nav input[type="search"]{max-width:77%;}nav input[type="search"]:first-child{margin-top:-6px;}nav input[type="search"]:valid ~ *{display:none !important;}}@media (min-width:770px){:root{--sidebar-width:clamp(12.5rem, 28vw, 22rem);}nav{position:fixed;overflow:auto;height:100vh;width:var(--sidebar-width);}main, header{padding:3rem 2rem 3rem calc(var(--sidebar-width) + 3rem);width:calc(54rem + var(--sidebar-width));max-width:100%;}header + main{margin-top:-4rem;}#navtoggle{display:none;}}#togglestate{position:absolute;height:0;opacity:0;}nav.pdoc{--pad:clamp(0.5rem, 2vw, 1.75rem);--indent:1.5rem;background-color:var(--accent);border-right:1px solid var(--accent2);box-shadow:0 0 20px rgba(50, 50, 50, .2) inset;padding:0 0 0 var(--pad);overflow-wrap:anywhere;scrollbar-width:thin; scrollbar-color:var(--accent2) transparent; z-index:1}nav.pdoc::-webkit-scrollbar{width:.4rem; }nav.pdoc::-webkit-scrollbar-thumb{background-color:var(--accent2); }nav.pdoc > div{padding:var(--pad) 0;}nav.pdoc .module-list-button{display:inline-flex;align-items:center;color:var(--text);border-color:var(--muted);margin-bottom:1rem;}nav.pdoc .module-list-button:hover{border-color:var(--text);}nav.pdoc input[type=search]{display:block;outline-offset:0;width:calc(100% - var(--pad));}nav.pdoc .logo{max-width:calc(100% - var(--pad));max-height:35vh;display:block;margin:0 auto 1rem;transform:translate(calc(-.5 * var(--pad)), 0);}nav.pdoc ul{list-style:none;padding-left:0;}nav.pdoc > div > ul{margin-left:calc(0px - var(--pad));}nav.pdoc li a{padding:.2rem 0 .2rem calc(var(--pad) + var(--indent));}nav.pdoc > div > ul > li > a{padding-left:var(--pad);}nav.pdoc li{transition:all 100ms;}nav.pdoc li:hover{background-color:var(--nav-hover);}nav.pdoc a, nav.pdoc a:hover{color:var(--text);}nav.pdoc a{display:block;}nav.pdoc > h2:first-of-type{margin-top:1.5rem;}nav.pdoc .class:before{content:"class ";color:var(--muted);}nav.pdoc .function:after{content:"()";color:var(--muted);}nav.pdoc footer:before{content:"";display:block;width:calc(100% - var(--pad));border-top:solid var(--accent2) 1px;margin-top:1.5rem;padding-top:.5rem;}nav.pdoc footer{font-size:small;}</style>
    <style>/*! content.css */.pdoc{color:var(--text);box-sizing:border-box;line-height:1.5;background:none;}.pdoc .pdoc-button{cursor:pointer;display:inline-block;border:solid black 1px;border-radius:2px;font-size:.75rem;padding:calc(0.5em - 1px) 1em;transition:100ms all;}.pdoc .alert{padding:1rem 1rem 1rem calc(1.5rem + 24px);border:1px solid transparent;border-radius:.25rem;background-repeat:no-repeat;background-position:.75rem center;margin-bottom:1rem;}.pdoc .alert > em{display:none;}.pdoc .alert > *:last-child{margin-bottom:0;}.pdoc .alert.note{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23084298%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8%2016A8%208%200%201%200%208%200a8%208%200%200%200%200%2016zm.93-9.412-1%204.705c-.07.34.029.533.304.533.194%200%20.487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703%200-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381%202.29-.287zM8%205.5a1%201%200%201%201%200-2%201%201%200%200%201%200%202z%22/%3E%3C/svg%3E");}.pdoc .alert.tip{color:#0a3622;background-color:#d1e7dd;border-color:#a3cfbb;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%230a3622%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%206a6%206%200%201%201%2010.174%204.31c-.203.196-.359.4-.453.619l-.762%201.769A.5.5%200%200%201%2010.5%2013a.5.5%200%200%201%200%201%20.5.5%200%200%201%200%201l-.224.447a1%201%200%200%201-.894.553H6.618a1%201%200%200%201-.894-.553L5.5%2015a.5.5%200%200%201%200-1%20.5.5%200%200%201%200-1%20.5.5%200%200%201-.46-.302l-.761-1.77a2%202%200%200%200-.453-.618A5.98%205.98%200%200%201%202%206m6-5a5%205%200%200%200-3.479%208.592c.263.254.514.564.676.941L5.83%2012h4.342l.632-1.467c.162-.377.413-.687.676-.941A5%205%200%200%200%208%201%22/%3E%3C/svg%3E");}.pdoc .alert.important{color:#055160;background-color:#cff4fc;border-color:#9eeaf9;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23055160%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M2%200a2%202%200%200%200-2%202v12a2%202%200%200%200%202%202h12a2%202%200%200%200%202-2V2a2%202%200%200%200-2-2zm6%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.warning{color:#664d03;background-color:#fff3cd;border-color:#ffecb5;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23664d03%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M8.982%201.566a1.13%201.13%200%200%200-1.96%200L.165%2013.233c-.457.778.091%201.767.98%201.767h13.713c.889%200%201.438-.99.98-1.767L8.982%201.566zM8%205c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%205.995A.905.905%200%200%201%208%205zm.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2z%22/%3E%3C/svg%3E");}.pdoc .alert.caution{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M11.46.146A.5.5%200%200%200%2011.107%200H4.893a.5.5%200%200%200-.353.146L.146%204.54A.5.5%200%200%200%200%204.893v6.214a.5.5%200%200%200%20.146.353l4.394%204.394a.5.5%200%200%200%20.353.146h6.214a.5.5%200%200%200%20.353-.146l4.394-4.394a.5.5%200%200%200%20.146-.353V4.893a.5.5%200%200%200-.146-.353zM8%204c.535%200%20.954.462.9.995l-.35%203.507a.552.552%200%200%201-1.1%200L7.1%204.995A.905.905%200%200%201%208%204m.002%206a1%201%200%201%201%200%202%201%201%200%200%201%200-2%22/%3E%3C/svg%3E");}.pdoc .alert.danger{color:#842029;background-color:#f8d7da;border-color:#f5c2c7;background-image:url("data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20fill%3D%22%23842029%22%20viewBox%3D%220%200%2016%2016%22%3E%3Cpath%20d%3D%22M5.52.359A.5.5%200%200%201%206%200h4a.5.5%200%200%201%20.474.658L8.694%206H12.5a.5.5%200%200%201%20.395.807l-7%209a.5.5%200%200%201-.873-.454L6.823%209.5H3.5a.5.5%200%200%201-.48-.641l2.5-8.5z%22/%3E%3C/svg%3E");}.pdoc .visually-hidden{position:absolute !important;width:1px !important;height:1px !important;padding:0 !important;margin:-1px !important;overflow:hidden !important;clip:rect(0, 0, 0, 0) !important;white-space:nowrap !important;border:0 !important;}.pdoc h1, .pdoc h2, .pdoc h3{font-weight:300;margin:.3em 0;padding:.2em 0;}.pdoc > section:not(.module-info) h1{font-size:1.5rem;font-weight:500;}.pdoc > section:not(.module-info) h2{font-size:1.4rem;font-weight:500;}.pdoc > section:not(.module-info) h3{font-size:1.3rem;font-weight:500;}.pdoc > section:not(.module-info) h4{font-size:1.2rem;}.pdoc > section:not(.module-info) h5{font-size:1.1rem;}.pdoc a{text-decoration:none;color:var(--link);}.pdoc a:hover{color:var(--link-hover);}.pdoc blockquote{margin-left:2rem;}.pdoc pre{border-top:1px solid var(--accent2);border-bottom:1px solid var(--accent2);margin-top:0;margin-bottom:1em;padding:.5rem 0 .5rem .5rem;overflow-x:auto;background-color:var(--code);}.pdoc code{color:var(--text);padding:.2em .4em;margin:0;font-size:85%;background-color:var(--accent);border-radius:6px;}.pdoc a > code{color:inherit;}.pdoc pre > code{display:inline-block;font-size:inherit;background:none;border:none;padding:0;}.pdoc > section:not(.module-info){margin-bottom:1.5rem;}.pdoc .modulename{margin-top:0;font-weight:bold;}.pdoc .modulename a{color:var(--link);transition:100ms all;}.pdoc .git-button{float:right;border:solid var(--link) 1px;}.pdoc .git-button:hover{background-color:var(--link);color:var(--pdoc-background);}.view-source-toggle-state,.view-source-toggle-state ~ .pdoc-code{display:none;}.view-source-toggle-state:checked ~ .pdoc-code{display:block;}.view-source-button{display:inline-block;float:right;font-size:.75rem;line-height:1.5rem;color:var(--muted);padding:0 .4rem 0 1.3rem;cursor:pointer;text-indent:-2px;}.view-source-button > span{visibility:hidden;}.module-info .view-source-button{float:none;display:flex;justify-content:flex-end;margin:-1.2rem .4rem -.2rem 0;}.view-source-button::before{position:absolute;content:"View Source";display:list-item;list-style-type:disclosure-closed;}.view-source-toggle-state:checked ~ .attr .view-source-button::before,.view-source-toggle-state:checked ~ .view-source-button::before{list-style-type:disclosure-open;}.pdoc .docstring{margin-bottom:1.5rem;}.pdoc section:not(.module-info) .docstring{margin-left:clamp(0rem, 5vw - 2rem, 1rem);}.pdoc .docstring .pdoc-code{margin-left:1em;margin-right:1em;}.pdoc h1:target,.pdoc h2:target,.pdoc h3:target,.pdoc h4:target,.pdoc h5:target,.pdoc h6:target,.pdoc .pdoc-code > pre > span:target{background-color:var(--active);box-shadow:-1rem 0 0 0 var(--active);}.pdoc .pdoc-code > pre > span:target{display:block;}.pdoc div:target > .attr,.pdoc section:target > .attr,.pdoc dd:target > a{background-color:var(--active);}.pdoc *{scroll-margin:2rem;}.pdoc .pdoc-code .linenos{user-select:none;}.pdoc .attr:hover{filter:contrast(0.95);}.pdoc section, .pdoc .classattr{position:relative;}.pdoc .headerlink{--width:clamp(1rem, 3vw, 2rem);position:absolute;top:0;left:calc(0rem - var(--width));transition:all 100ms ease-in-out;opacity:0;}.pdoc .headerlink::before{content:"#";display:block;text-align:center;width:var(--width);height:2.3rem;line-height:2.3rem;font-size:1.5rem;}.pdoc .attr:hover ~ .headerlink,.pdoc *:target > .headerlink,.pdoc .headerlink:hover{opacity:1;}.pdoc .attr{display:block;margin:.5rem 0 .5rem;padding:.4rem .4rem .4rem 1rem;background-color:var(--accent);overflow-x:auto;}.pdoc .classattr{margin-left:2rem;}.pdoc .decorator-deprecated{color:#842029;}.pdoc .decorator-deprecated ~ span{filter:grayscale(1) opacity(0.8);}.pdoc .name{color:var(--name);font-weight:bold;}.pdoc .def{color:var(--def);font-weight:bold;}.pdoc .signature{background-color:transparent;}.pdoc .param, .pdoc .return-annotation{white-space:pre;}.pdoc .signature.multiline .param{display:block;}.pdoc .signature.condensed .param{display:inline-block;}.pdoc .annotation{color:var(--annotation);}.pdoc .view-value-toggle-state,.pdoc .view-value-toggle-state ~ .default_value{display:none;}.pdoc .view-value-toggle-state:checked ~ .default_value{display:inherit;}.pdoc .view-value-button{font-size:.5rem;vertical-align:middle;border-style:dashed;margin-top:-0.1rem;}.pdoc .view-value-button:hover{background:white;}.pdoc .view-value-button::before{content:"show";text-align:center;width:2.2em;display:inline-block;}.pdoc .view-value-toggle-state:checked ~ .view-value-button::before{content:"hide";}.pdoc .inherited{margin-left:2rem;}.pdoc .inherited dt{font-weight:700;}.pdoc .inherited dt, .pdoc .inherited dd{display:inline;margin-left:0;margin-bottom:.5rem;}.pdoc .inherited dd:not(:last-child):after{content:", ";}.pdoc .inherited .class:before{content:"class ";}.pdoc .inherited .function a:after{content:"()";}.pdoc .search-result .docstring{overflow:auto;max-height:25vh;}.pdoc .search-result.focused > .attr{background-color:var(--active);}.pdoc .attribution{margin-top:2rem;display:block;opacity:0.5;transition:all 200ms;filter:grayscale(100%);}.pdoc .attribution:hover{opacity:1;filter:grayscale(0%);}.pdoc .attribution img{margin-left:5px;height:35px;vertical-align:middle;width:70px;transition:all 200ms;}.pdoc table{display:block;width:max-content;max-width:100%;overflow:auto;margin-bottom:1rem;}.pdoc table th{font-weight:600;}.pdoc table th, .pdoc table td{padding:6px 13px;border:1px solid var(--accent2);}</style>
    <style>/*! custom.css */</style></head>
<body>
    <nav class="pdoc">
        <label id="navtoggle" for="togglestate" class="pdoc-button"><svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'><path stroke-linecap='round' stroke="currentColor" stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/></svg></label>
        <input id="togglestate" type="checkbox" aria-hidden="true" tabindex="-1">
        <div><h1>htty-core</h1>
    <h2>API</h2>
        <ul class="memberlist">
            <li>
                    <a class="class" href="#HtArgs">HtArgs</a>
                            <ul class="memberlist">
                        <li>
                                <a class="function" href="#HtArgs.__init__">HtArgs</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtArgs.command">command</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtArgs.subscribes">subscribes</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtArgs.rows">rows</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtArgs.cols">cols</a>
                        </li>
                        <li>
                                <a class="function" href="#HtArgs.get_command">get_command</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="class" href="#HtEvent">HtEvent</a>
                            <ul class="memberlist">
                        <li>
                                <a class="variable" href="#HtEvent.INIT">INIT</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.SNAPSHOT">SNAPSHOT</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.OUTPUT">OUTPUT</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.RESIZE">RESIZE</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.PID">PID</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.EXIT_CODE">EXIT_CODE</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.COMMAND_COMPLETED">COMMAND_COMPLETED</a>
                        </li>
                        <li>
                                <a class="variable" href="#HtEvent.DEBUG">DEBUG</a>
                        </li>
                </ul>

            </li>
            <li>
                    <a class="function" href="#find_ht_binary">find_ht_binary</a>
            </li>
            <li>
                    <a class="function" href="#run">run</a>
            </li>
            <li>
                    <a class="variable" href="#Command">Command</a>
            </li>
            <li>
                    <a class="variable" href="#Rows">Rows</a>
            </li>
            <li>
                    <a class="variable" href="#Cols">Cols</a>
            </li>
            <li>
                    <a class="variable" href="#__version__">__version__</a>
            </li>
    </ul>

<h3><a href="../htty.html">htty</a></h3>
</div>
    </nav>
    <main class="pdoc">
            <section class="module-info">
                    <h1 class="modulename">
htty_core    </h1>

                        <div class="docstring"><p>htty-core: A thin wrapper around a forked <a href="https://github.com/andyk/ht">ht</a> binary for use with <a href="https://matrixmanatyrservice.github.io/htty/htty.html">htty</a>.</p>
</div>

                        <input id="mod-htty_core-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">

                        <label class="view-source-button" for="mod-htty_core-view-source"><span>View Source</span></label>

                        <div class="pdoc-code codehilite"><pre><span></span><span id="L-1"><a href="#L-1"><span class="linenos"> 1</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-2"><a href="#L-2"><span class="linenos"> 2</span></a><span class="sd">htty-core: A thin wrapper around a forked [ht](https://github.com/andyk/ht) binary for use with [htty](https://matrixmanatyrservice.github.io/htty/htty.html).</span>
</span><span id="L-3"><a href="#L-3"><span class="linenos"> 3</span></a><span class="sd">&quot;&quot;&quot;</span>
</span><span id="L-4"><a href="#L-4"><span class="linenos"> 4</span></a>
</span><span id="L-5"><a href="#L-5"><span class="linenos"> 5</span></a><span class="kn">from</span><span class="w"> </span><span class="nn">.core</span><span class="w"> </span><span class="kn">import</span> <span class="n">Cols</span><span class="p">,</span> <span class="n">Command</span><span class="p">,</span> <span class="n">HtArgs</span><span class="p">,</span> <span class="n">HtEvent</span><span class="p">,</span> <span class="n">Rows</span><span class="p">,</span> <span class="n">find_ht_binary</span><span class="p">,</span> <span class="n">run</span>
</span><span id="L-6"><a href="#L-6"><span class="linenos"> 6</span></a>
</span><span id="L-7"><a href="#L-7"><span class="linenos"> 7</span></a><span class="n">__all__</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;HtArgs&quot;</span><span class="p">,</span> <span class="s2">&quot;HtEvent&quot;</span><span class="p">,</span> <span class="s2">&quot;find_ht_binary&quot;</span><span class="p">,</span> <span class="s2">&quot;run&quot;</span><span class="p">,</span> <span class="s2">&quot;Command&quot;</span><span class="p">,</span> <span class="s2">&quot;Rows&quot;</span><span class="p">,</span> <span class="s2">&quot;Cols&quot;</span><span class="p">,</span> <span class="s2">&quot;__version__&quot;</span><span class="p">]</span>
</span><span id="L-8"><a href="#L-8"><span class="linenos"> 8</span></a><span class="c1"># [[[cog</span>
</span><span id="L-9"><a href="#L-9"><span class="linenos"> 9</span></a><span class="c1"># import os</span>
</span><span id="L-10"><a href="#L-10"><span class="linenos">10</span></a><span class="c1"># cog.out(f&#39;__version__ = &quot;{os.environ[&quot;HTTY_VERSION&quot;]}&quot;&#39;)</span>
</span><span id="L-11"><a href="#L-11"><span class="linenos">11</span></a><span class="c1"># ]]]</span>
</span><span id="L-12"><a href="#L-12"><span class="linenos">12</span></a><span class="n">__version__</span> <span class="o">=</span> <span class="s2">&quot;0.2.25&quot;</span>
</span><span id="L-13"><a href="#L-13"><span class="linenos">13</span></a><span class="c1"># [[[end]]]</span>
</span></pre></div>


            </section>
                <section id="HtArgs">
                            <input id="HtArgs-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">HtArgs</span>:

                <label class="view-source-button" for="HtArgs-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HtArgs"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HtArgs-139"><a href="#HtArgs-139"><span class="linenos">139</span></a><span class="k">class</span><span class="w"> </span><span class="nc">HtArgs</span><span class="p">:</span>
</span><span id="HtArgs-140"><a href="#HtArgs-140"><span class="linenos">140</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtArgs-141"><a href="#HtArgs-141"><span class="linenos">141</span></a><span class="sd">    The caller provides one of these when they want an `ht` process.</span>
</span><span id="HtArgs-142"><a href="#HtArgs-142"><span class="linenos">142</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtArgs-143"><a href="#HtArgs-143"><span class="linenos">143</span></a>
</span><span id="HtArgs-144"><a href="#HtArgs-144"><span class="linenos">144</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="HtArgs-145"><a href="#HtArgs-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="HtArgs-146"><a href="#HtArgs-146"><span class="linenos">146</span></a>        <span class="n">command</span><span class="p">:</span> <span class="n">Command</span><span class="p">,</span>
</span><span id="HtArgs-147"><a href="#HtArgs-147"><span class="linenos">147</span></a>        <span class="n">subscribes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">HtEvent</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs-148"><a href="#HtArgs-148"><span class="linenos">148</span></a>        <span class="n">rows</span><span class="p">:</span> <span class="n">Rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs-149"><a href="#HtArgs-149"><span class="linenos">149</span></a>        <span class="n">cols</span><span class="p">:</span> <span class="n">Cols</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs-150"><a href="#HtArgs-150"><span class="linenos">150</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs-151"><a href="#HtArgs-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
</span><span id="HtArgs-152"><a href="#HtArgs-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span> <span class="o">=</span> <span class="n">subscribes</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="HtArgs-153"><a href="#HtArgs-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">rows</span>
</span><span id="HtArgs-154"><a href="#HtArgs-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="o">=</span> <span class="n">cols</span>
</span><span id="HtArgs-155"><a href="#HtArgs-155"><span class="linenos">155</span></a>
</span><span id="HtArgs-156"><a href="#HtArgs-156"><span class="linenos">156</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ht_binary</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="HtArgs-157"><a href="#HtArgs-157"><span class="linenos">157</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Build the command line arguments for running ht.</span>
</span><span id="HtArgs-158"><a href="#HtArgs-158"><span class="linenos">158</span></a>
</span><span id="HtArgs-159"><a href="#HtArgs-159"><span class="linenos">159</span></a><span class="sd">        Args:</span>
</span><span id="HtArgs-160"><a href="#HtArgs-160"><span class="linenos">160</span></a><span class="sd">            ht_binary: Optional path to ht binary. If not provided, find_ht_binary() will be called.</span>
</span><span id="HtArgs-161"><a href="#HtArgs-161"><span class="linenos">161</span></a>
</span><span id="HtArgs-162"><a href="#HtArgs-162"><span class="linenos">162</span></a><span class="sd">        Returns:</span>
</span><span id="HtArgs-163"><a href="#HtArgs-163"><span class="linenos">163</span></a><span class="sd">            List of command arguments that would be passed to subprocess.Popen</span>
</span><span id="HtArgs-164"><a href="#HtArgs-164"><span class="linenos">164</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="HtArgs-165"><a href="#HtArgs-165"><span class="linenos">165</span></a>        <span class="k">if</span> <span class="n">ht_binary</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs-166"><a href="#HtArgs-166"><span class="linenos">166</span></a>            <span class="n">ht_binary</span> <span class="o">=</span> <span class="n">find_ht_binary</span><span class="p">()</span>
</span><span id="HtArgs-167"><a href="#HtArgs-167"><span class="linenos">167</span></a>
</span><span id="HtArgs-168"><a href="#HtArgs-168"><span class="linenos">168</span></a>        <span class="n">cmd_args</span> <span class="o">=</span> <span class="p">[</span><span class="n">ht_binary</span><span class="p">]</span>
</span><span id="HtArgs-169"><a href="#HtArgs-169"><span class="linenos">169</span></a>
</span><span id="HtArgs-170"><a href="#HtArgs-170"><span class="linenos">170</span></a>        <span class="c1"># Add subscription arguments</span>
</span><span id="HtArgs-171"><a href="#HtArgs-171"><span class="linenos">171</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span><span class="p">:</span>
</span><span id="HtArgs-172"><a href="#HtArgs-172"><span class="linenos">172</span></a>            <span class="n">subscribe_strings</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span><span class="p">]</span>
</span><span id="HtArgs-173"><a href="#HtArgs-173"><span class="linenos">173</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;--subscribe&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subscribe_strings</span><span class="p">)])</span>
</span><span id="HtArgs-174"><a href="#HtArgs-174"><span class="linenos">174</span></a>
</span><span id="HtArgs-175"><a href="#HtArgs-175"><span class="linenos">175</span></a>        <span class="c1"># Add size arguments if specified</span>
</span><span id="HtArgs-176"><a href="#HtArgs-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs-177"><a href="#HtArgs-177"><span class="linenos">177</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;--size&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="HtArgs-178"><a href="#HtArgs-178"><span class="linenos">178</span></a>
</span><span id="HtArgs-179"><a href="#HtArgs-179"><span class="linenos">179</span></a>        <span class="c1"># Add separator and the command to run</span>
</span><span id="HtArgs-180"><a href="#HtArgs-180"><span class="linenos">180</span></a>        <span class="n">cmd_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
</span><span id="HtArgs-181"><a href="#HtArgs-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="HtArgs-182"><a href="#HtArgs-182"><span class="linenos">182</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</span><span id="HtArgs-183"><a href="#HtArgs-183"><span class="linenos">183</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="HtArgs-184"><a href="#HtArgs-184"><span class="linenos">184</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
</span><span id="HtArgs-185"><a href="#HtArgs-185"><span class="linenos">185</span></a>
</span><span id="HtArgs-186"><a href="#HtArgs-186"><span class="linenos">186</span></a>        <span class="k">return</span> <span class="n">cmd_args</span>
</span></pre></div>


            <div class="docstring"><p>The caller provides one of these when they want an <code>ht</code> process.</p>
</div>


                            <div id="HtArgs.__init__" class="classattr">
                                        <input id="HtArgs.__init__-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="name">HtArgs</span><span class="signature pdoc-code multiline">(<span class="param">	<span class="n">command</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]],</span> <span class="s1">&#39;run this command (as a subprocess of ht)&#39;</span><span class="p">]</span>,</span><span class="param">	<span class="n">subscribes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n"><a href="#HtEvent">HtEvent</a></span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">rows</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="s1">&#39;number of rows for the headless terminal (default: 30)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>,</span><span class="param">	<span class="n">cols</span><span class="p">:</span> <span class="n">Annotated</span><span class="p">[</span><span class="n">Optional</span><span class="p">[</span><span class="nb">int</span><span class="p">],</span> <span class="s1">&#39;number of columns for the headless terminal (default: 60)&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span>)</span>

                <label class="view-source-button" for="HtArgs.__init__-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HtArgs.__init__"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HtArgs.__init__-144"><a href="#HtArgs.__init__-144"><span class="linenos">144</span></a>    <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span>
</span><span id="HtArgs.__init__-145"><a href="#HtArgs.__init__-145"><span class="linenos">145</span></a>        <span class="bp">self</span><span class="p">,</span>
</span><span id="HtArgs.__init__-146"><a href="#HtArgs.__init__-146"><span class="linenos">146</span></a>        <span class="n">command</span><span class="p">:</span> <span class="n">Command</span><span class="p">,</span>
</span><span id="HtArgs.__init__-147"><a href="#HtArgs.__init__-147"><span class="linenos">147</span></a>        <span class="n">subscribes</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">list</span><span class="p">[</span><span class="n">HtEvent</span><span class="p">]]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs.__init__-148"><a href="#HtArgs.__init__-148"><span class="linenos">148</span></a>        <span class="n">rows</span><span class="p">:</span> <span class="n">Rows</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs.__init__-149"><a href="#HtArgs.__init__-149"><span class="linenos">149</span></a>        <span class="n">cols</span><span class="p">:</span> <span class="n">Cols</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
</span><span id="HtArgs.__init__-150"><a href="#HtArgs.__init__-150"><span class="linenos">150</span></a>    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs.__init__-151"><a href="#HtArgs.__init__-151"><span class="linenos">151</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">command</span> <span class="o">=</span> <span class="n">command</span>
</span><span id="HtArgs.__init__-152"><a href="#HtArgs.__init__-152"><span class="linenos">152</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span> <span class="o">=</span> <span class="n">subscribes</span> <span class="ow">or</span> <span class="p">[]</span>
</span><span id="HtArgs.__init__-153"><a href="#HtArgs.__init__-153"><span class="linenos">153</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="o">=</span> <span class="n">rows</span>
</span><span id="HtArgs.__init__-154"><a href="#HtArgs.__init__-154"><span class="linenos">154</span></a>        <span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="o">=</span> <span class="n">cols</span>
</span></pre></div>


    

                            </div>
                            <div id="HtArgs.command" class="classattr">
                                <div class="attr variable">
            <span class="name">command</span>

        
    </div>
    <a class="headerlink" href="#HtArgs.command"></a>
    
    

                            </div>
                            <div id="HtArgs.subscribes" class="classattr">
                                <div class="attr variable">
            <span class="name">subscribes</span>

        
    </div>
    <a class="headerlink" href="#HtArgs.subscribes"></a>
    
    

                            </div>
                            <div id="HtArgs.rows" class="classattr">
                                <div class="attr variable">
            <span class="name">rows</span>

        
    </div>
    <a class="headerlink" href="#HtArgs.rows"></a>
    
    

                            </div>
                            <div id="HtArgs.cols" class="classattr">
                                <div class="attr variable">
            <span class="name">cols</span>

        
    </div>
    <a class="headerlink" href="#HtArgs.cols"></a>
    
    

                            </div>
                            <div id="HtArgs.get_command" class="classattr">
                                        <input id="HtArgs.get_command-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">get_command</span><span class="signature pdoc-code condensed">(<span class="param"><span class="bp">self</span>, </span><span class="param"><span class="n">ht_binary</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span></span><span class="return-annotation">) -> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="HtArgs.get_command-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HtArgs.get_command"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HtArgs.get_command-156"><a href="#HtArgs.get_command-156"><span class="linenos">156</span></a>    <span class="k">def</span><span class="w"> </span><span class="nf">get_command</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">ht_binary</span><span class="p">:</span> <span class="n">Optional</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="HtArgs.get_command-157"><a href="#HtArgs.get_command-157"><span class="linenos">157</span></a><span class="w">        </span><span class="sd">&quot;&quot;&quot;Build the command line arguments for running ht.</span>
</span><span id="HtArgs.get_command-158"><a href="#HtArgs.get_command-158"><span class="linenos">158</span></a>
</span><span id="HtArgs.get_command-159"><a href="#HtArgs.get_command-159"><span class="linenos">159</span></a><span class="sd">        Args:</span>
</span><span id="HtArgs.get_command-160"><a href="#HtArgs.get_command-160"><span class="linenos">160</span></a><span class="sd">            ht_binary: Optional path to ht binary. If not provided, find_ht_binary() will be called.</span>
</span><span id="HtArgs.get_command-161"><a href="#HtArgs.get_command-161"><span class="linenos">161</span></a>
</span><span id="HtArgs.get_command-162"><a href="#HtArgs.get_command-162"><span class="linenos">162</span></a><span class="sd">        Returns:</span>
</span><span id="HtArgs.get_command-163"><a href="#HtArgs.get_command-163"><span class="linenos">163</span></a><span class="sd">            List of command arguments that would be passed to subprocess.Popen</span>
</span><span id="HtArgs.get_command-164"><a href="#HtArgs.get_command-164"><span class="linenos">164</span></a><span class="sd">        &quot;&quot;&quot;</span>
</span><span id="HtArgs.get_command-165"><a href="#HtArgs.get_command-165"><span class="linenos">165</span></a>        <span class="k">if</span> <span class="n">ht_binary</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs.get_command-166"><a href="#HtArgs.get_command-166"><span class="linenos">166</span></a>            <span class="n">ht_binary</span> <span class="o">=</span> <span class="n">find_ht_binary</span><span class="p">()</span>
</span><span id="HtArgs.get_command-167"><a href="#HtArgs.get_command-167"><span class="linenos">167</span></a>
</span><span id="HtArgs.get_command-168"><a href="#HtArgs.get_command-168"><span class="linenos">168</span></a>        <span class="n">cmd_args</span> <span class="o">=</span> <span class="p">[</span><span class="n">ht_binary</span><span class="p">]</span>
</span><span id="HtArgs.get_command-169"><a href="#HtArgs.get_command-169"><span class="linenos">169</span></a>
</span><span id="HtArgs.get_command-170"><a href="#HtArgs.get_command-170"><span class="linenos">170</span></a>        <span class="c1"># Add subscription arguments</span>
</span><span id="HtArgs.get_command-171"><a href="#HtArgs.get_command-171"><span class="linenos">171</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span><span class="p">:</span>
</span><span id="HtArgs.get_command-172"><a href="#HtArgs.get_command-172"><span class="linenos">172</span></a>            <span class="n">subscribe_strings</span> <span class="o">=</span> <span class="p">[</span><span class="n">event</span><span class="o">.</span><span class="n">value</span> <span class="k">for</span> <span class="n">event</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">subscribes</span><span class="p">]</span>
</span><span id="HtArgs.get_command-173"><a href="#HtArgs.get_command-173"><span class="linenos">173</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;--subscribe&quot;</span><span class="p">,</span> <span class="s2">&quot;,&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">subscribe_strings</span><span class="p">)])</span>
</span><span id="HtArgs.get_command-174"><a href="#HtArgs.get_command-174"><span class="linenos">174</span></a>
</span><span id="HtArgs.get_command-175"><a href="#HtArgs.get_command-175"><span class="linenos">175</span></a>        <span class="c1"># Add size arguments if specified</span>
</span><span id="HtArgs.get_command-176"><a href="#HtArgs.get_command-176"><span class="linenos">176</span></a>        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">rows</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">cols</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
</span><span id="HtArgs.get_command-177"><a href="#HtArgs.get_command-177"><span class="linenos">177</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">([</span><span class="s2">&quot;--size&quot;</span><span class="p">,</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">cols</span><span class="si">}</span><span class="s2">x</span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">rows</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">])</span>
</span><span id="HtArgs.get_command-178"><a href="#HtArgs.get_command-178"><span class="linenos">178</span></a>
</span><span id="HtArgs.get_command-179"><a href="#HtArgs.get_command-179"><span class="linenos">179</span></a>        <span class="c1"># Add separator and the command to run</span>
</span><span id="HtArgs.get_command-180"><a href="#HtArgs.get_command-180"><span class="linenos">180</span></a>        <span class="n">cmd_args</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot;--&quot;</span><span class="p">)</span>
</span><span id="HtArgs.get_command-181"><a href="#HtArgs.get_command-181"><span class="linenos">181</span></a>        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
</span><span id="HtArgs.get_command-182"><a href="#HtArgs.get_command-182"><span class="linenos">182</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="o">.</span><span class="n">split</span><span class="p">())</span>
</span><span id="HtArgs.get_command-183"><a href="#HtArgs.get_command-183"><span class="linenos">183</span></a>        <span class="k">else</span><span class="p">:</span>
</span><span id="HtArgs.get_command-184"><a href="#HtArgs.get_command-184"><span class="linenos">184</span></a>            <span class="n">cmd_args</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">command</span><span class="p">)</span>
</span><span id="HtArgs.get_command-185"><a href="#HtArgs.get_command-185"><span class="linenos">185</span></a>
</span><span id="HtArgs.get_command-186"><a href="#HtArgs.get_command-186"><span class="linenos">186</span></a>        <span class="k">return</span> <span class="n">cmd_args</span>
</span></pre></div>


            <div class="docstring"><p>Build the command line arguments for running ht.</p>

<p>Args:
    ht_binary: Optional path to ht binary. If not provided, find_ht_binary() will be called.</p>

<p>Returns:
    List of command arguments that would be passed to subprocess.Popen</p>
</div>


                            </div>
                </section>
                <section id="HtEvent">
                            <input id="HtEvent-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr class">
            
    <span class="def">class</span>
    <span class="name">HtEvent</span><wbr>(<span class="base">enum.StrEnum</span>):

                <label class="view-source-button" for="HtEvent-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#HtEvent"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="HtEvent-45"><a href="#HtEvent-45"><span class="linenos"> 45</span></a><span class="k">class</span><span class="w"> </span><span class="nc">HtEvent</span><span class="p">(</span><span class="n">StrEnum</span><span class="p">):</span>
</span><span id="HtEvent-46"><a href="#HtEvent-46"><span class="linenos"> 46</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-47"><a href="#HtEvent-47"><span class="linenos"> 47</span></a><span class="sd">    Event types that can be subscribed to from the ht process.</span>
</span><span id="HtEvent-48"><a href="#HtEvent-48"><span class="linenos"> 48</span></a>
</span><span id="HtEvent-49"><a href="#HtEvent-49"><span class="linenos"> 49</span></a><span class="sd">    The original set of events is documented [in the ht repo](https://github.com/andyk/ht?tab=readme-ov-file#events).</span>
</span><span id="HtEvent-50"><a href="#HtEvent-50"><span class="linenos"> 50</span></a>
</span><span id="HtEvent-51"><a href="#HtEvent-51"><span class="linenos"> 51</span></a><span class="sd">    Events added by `htty`:</span>
</span><span id="HtEvent-52"><a href="#HtEvent-52"><span class="linenos"> 52</span></a>
</span><span id="HtEvent-53"><a href="#HtEvent-53"><span class="linenos"> 53</span></a><span class="sd">    - pid</span>
</span><span id="HtEvent-54"><a href="#HtEvent-54"><span class="linenos"> 54</span></a><span class="sd">    - exitCode</span>
</span><span id="HtEvent-55"><a href="#HtEvent-55"><span class="linenos"> 55</span></a><span class="sd">    - debug</span>
</span><span id="HtEvent-56"><a href="#HtEvent-56"><span class="linenos"> 56</span></a><span class="sd">    - completed</span>
</span><span id="HtEvent-57"><a href="#HtEvent-57"><span class="linenos"> 57</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-58"><a href="#HtEvent-58"><span class="linenos"> 58</span></a>
</span><span id="HtEvent-59"><a href="#HtEvent-59"><span class="linenos"> 59</span></a>    <span class="n">INIT</span> <span class="o">=</span> <span class="s2">&quot;init&quot;</span>
</span><span id="HtEvent-60"><a href="#HtEvent-60"><span class="linenos"> 60</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-61"><a href="#HtEvent-61"><span class="linenos"> 61</span></a><span class="sd">    Same as snapshot event (see below) but sent only once, as the first event after ht&#39;s start (when sent to</span>
</span><span id="HtEvent-62"><a href="#HtEvent-62"><span class="linenos"> 62</span></a><span class="sd">    STDOUT) and upon establishing of WebSocket connection.</span>
</span><span id="HtEvent-63"><a href="#HtEvent-63"><span class="linenos"> 63</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-64"><a href="#HtEvent-64"><span class="linenos"> 64</span></a>
</span><span id="HtEvent-65"><a href="#HtEvent-65"><span class="linenos"> 65</span></a>    <span class="n">SNAPSHOT</span> <span class="o">=</span> <span class="s2">&quot;snapshot&quot;</span>
</span><span id="HtEvent-66"><a href="#HtEvent-66"><span class="linenos"> 66</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-67"><a href="#HtEvent-67"><span class="linenos"> 67</span></a><span class="sd">    Terminal window snapshot. Sent when the terminal snapshot is taken with the takeSnapshot command.</span>
</span><span id="HtEvent-68"><a href="#HtEvent-68"><span class="linenos"> 68</span></a>
</span><span id="HtEvent-69"><a href="#HtEvent-69"><span class="linenos"> 69</span></a><span class="sd">    Event data is an object with the following fields:</span>
</span><span id="HtEvent-70"><a href="#HtEvent-70"><span class="linenos"> 70</span></a>
</span><span id="HtEvent-71"><a href="#HtEvent-71"><span class="linenos"> 71</span></a><span class="sd">    - cols - current terminal width, number of columns</span>
</span><span id="HtEvent-72"><a href="#HtEvent-72"><span class="linenos"> 72</span></a><span class="sd">    - rows - current terminal height, number of rows</span>
</span><span id="HtEvent-73"><a href="#HtEvent-73"><span class="linenos"> 73</span></a><span class="sd">    - text - plain text snapshot as multi-line string, where each line represents a terminal row</span>
</span><span id="HtEvent-74"><a href="#HtEvent-74"><span class="linenos"> 74</span></a><span class="sd">    - seq - a raw sequence of characters, which when printed to a blank terminal puts it in the same state as</span>
</span><span id="HtEvent-75"><a href="#HtEvent-75"><span class="linenos"> 75</span></a><span class="sd">      ht&#39;s virtual terminal</span>
</span><span id="HtEvent-76"><a href="#HtEvent-76"><span class="linenos"> 76</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-77"><a href="#HtEvent-77"><span class="linenos"> 77</span></a>
</span><span id="HtEvent-78"><a href="#HtEvent-78"><span class="linenos"> 78</span></a>    <span class="n">OUTPUT</span> <span class="o">=</span> <span class="s2">&quot;output&quot;</span>
</span><span id="HtEvent-79"><a href="#HtEvent-79"><span class="linenos"> 79</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-80"><a href="#HtEvent-80"><span class="linenos"> 80</span></a><span class="sd">    Terminal output. Sent when an application (e.g. shell) running under ht prints something to the terminal.</span>
</span><span id="HtEvent-81"><a href="#HtEvent-81"><span class="linenos"> 81</span></a>
</span><span id="HtEvent-82"><a href="#HtEvent-82"><span class="linenos"> 82</span></a><span class="sd">    Event data is an object with the following fields:</span>
</span><span id="HtEvent-83"><a href="#HtEvent-83"><span class="linenos"> 83</span></a>
</span><span id="HtEvent-84"><a href="#HtEvent-84"><span class="linenos"> 84</span></a><span class="sd">    - seq - a raw sequence of characters written to a terminal, potentially including control sequences</span>
</span><span id="HtEvent-85"><a href="#HtEvent-85"><span class="linenos"> 85</span></a><span class="sd">      (colors, cursor positioning, etc.)</span>
</span><span id="HtEvent-86"><a href="#HtEvent-86"><span class="linenos"> 86</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-87"><a href="#HtEvent-87"><span class="linenos"> 87</span></a>
</span><span id="HtEvent-88"><a href="#HtEvent-88"><span class="linenos"> 88</span></a>    <span class="n">RESIZE</span> <span class="o">=</span> <span class="s2">&quot;resize&quot;</span>
</span><span id="HtEvent-89"><a href="#HtEvent-89"><span class="linenos"> 89</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-90"><a href="#HtEvent-90"><span class="linenos"> 90</span></a><span class="sd">    Terminal resize. Send when the terminal is resized with the resize command.</span>
</span><span id="HtEvent-91"><a href="#HtEvent-91"><span class="linenos"> 91</span></a>
</span><span id="HtEvent-92"><a href="#HtEvent-92"><span class="linenos"> 92</span></a><span class="sd">    Event data is an object with the following fields:</span>
</span><span id="HtEvent-93"><a href="#HtEvent-93"><span class="linenos"> 93</span></a>
</span><span id="HtEvent-94"><a href="#HtEvent-94"><span class="linenos"> 94</span></a><span class="sd">    - cols - current terminal width, number of columns</span>
</span><span id="HtEvent-95"><a href="#HtEvent-95"><span class="linenos"> 95</span></a><span class="sd">    - rows - current terminal height, number of rows</span>
</span><span id="HtEvent-96"><a href="#HtEvent-96"><span class="linenos"> 96</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-97"><a href="#HtEvent-97"><span class="linenos"> 97</span></a>
</span><span id="HtEvent-98"><a href="#HtEvent-98"><span class="linenos"> 98</span></a>    <span class="n">PID</span> <span class="o">=</span> <span class="s2">&quot;pid&quot;</span>
</span><span id="HtEvent-99"><a href="#HtEvent-99"><span class="linenos"> 99</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-100"><a href="#HtEvent-100"><span class="linenos">100</span></a><span class="sd">    ht runs the indicated command in `sh`.</span>
</span><span id="HtEvent-101"><a href="#HtEvent-101"><span class="linenos">101</span></a><span class="sd">    This event provides the pid of that `sh` process</span>
</span><span id="HtEvent-102"><a href="#HtEvent-102"><span class="linenos">102</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-103"><a href="#HtEvent-103"><span class="linenos">103</span></a>
</span><span id="HtEvent-104"><a href="#HtEvent-104"><span class="linenos">104</span></a>    <span class="n">EXIT_CODE</span> <span class="o">=</span> <span class="s2">&quot;exitCode&quot;</span>
</span><span id="HtEvent-105"><a href="#HtEvent-105"><span class="linenos">105</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-106"><a href="#HtEvent-106"><span class="linenos">106</span></a><span class="sd">    htty modified ht to stay open even after the command has completed.</span>
</span><span id="HtEvent-107"><a href="#HtEvent-107"><span class="linenos">107</span></a><span class="sd">    This event indicates the exit code of the underlying command.</span>
</span><span id="HtEvent-108"><a href="#HtEvent-108"><span class="linenos">108</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-109"><a href="#HtEvent-109"><span class="linenos">109</span></a>
</span><span id="HtEvent-110"><a href="#HtEvent-110"><span class="linenos">110</span></a>    <span class="n">COMMAND_COMPLETED</span> <span class="o">=</span> <span class="s2">&quot;commandCompleted&quot;</span>
</span><span id="HtEvent-111"><a href="#HtEvent-111"><span class="linenos">111</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-112"><a href="#HtEvent-112"><span class="linenos">112</span></a><span class="sd">    htty modified ht to run your command like so:</span>
</span><span id="HtEvent-113"><a href="#HtEvent-113"><span class="linenos">113</span></a>
</span><span id="HtEvent-114"><a href="#HtEvent-114"><span class="linenos">114</span></a><span class="sd">    Previously, ht did the simple thing and ran your command like this:</span>
</span><span id="HtEvent-115"><a href="#HtEvent-115"><span class="linenos">115</span></a><span class="sd">    ```</span>
</span><span id="HtEvent-116"><a href="#HtEvent-116"><span class="linenos">116</span></a><span class="sd">    sh -c &#39;{command}&#39;&#39;</span>
</span><span id="HtEvent-117"><a href="#HtEvent-117"><span class="linenos">117</span></a><span class="sd">    ```</span>
</span><span id="HtEvent-118"><a href="#HtEvent-118"><span class="linenos">118</span></a>
</span><span id="HtEvent-119"><a href="#HtEvent-119"><span class="linenos">119</span></a><span class="sd">    Sometimes, the PTY would shut down before all output was processed by ht, causing snapshots taken</span>
</span><span id="HtEvent-120"><a href="#HtEvent-120"><span class="linenos">120</span></a><span class="sd">    after exit to be incomplete.</span>
</span><span id="HtEvent-121"><a href="#HtEvent-121"><span class="linenos">121</span></a><span class="sd">    To fix this htty modified ht to run your like so:</span>
</span><span id="HtEvent-122"><a href="#HtEvent-122"><span class="linenos">122</span></a>
</span><span id="HtEvent-123"><a href="#HtEvent-123"><span class="linenos">123</span></a><span class="sd">    ```</span>
</span><span id="HtEvent-124"><a href="#HtEvent-124"><span class="linenos">124</span></a><span class="sd">    sh -c &#39;{command} ; exit_code=$? ; /path/to/ht wait-exit /path/to/a/temp/fifo ; exit $exit_code&#39;</span>
</span><span id="HtEvent-125"><a href="#HtEvent-125"><span class="linenos">125</span></a><span class="sd">    ```</span>
</span><span id="HtEvent-126"><a href="#HtEvent-126"><span class="linenos">126</span></a>
</span><span id="HtEvent-127"><a href="#HtEvent-127"><span class="linenos">127</span></a><span class="sd">    (The fifo is used to notify `ht wait-exit` that it&#39;s safe to exit)</span>
</span><span id="HtEvent-128"><a href="#HtEvent-128"><span class="linenos">128</span></a>
</span><span id="HtEvent-129"><a href="#HtEvent-129"><span class="linenos">129</span></a><span class="sd">    Following this change, the command might complete at one time, and the exit code would be made available later.</span>
</span><span id="HtEvent-130"><a href="#HtEvent-130"><span class="linenos">130</span></a><span class="sd">    This event indicates when the command completed, exitCode appears when the shell exits.</span>
</span><span id="HtEvent-131"><a href="#HtEvent-131"><span class="linenos">131</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="HtEvent-132"><a href="#HtEvent-132"><span class="linenos">132</span></a>
</span><span id="HtEvent-133"><a href="#HtEvent-133"><span class="linenos">133</span></a>    <span class="n">DEBUG</span> <span class="o">=</span> <span class="s2">&quot;debug&quot;</span>
</span><span id="HtEvent-134"><a href="#HtEvent-134"><span class="linenos">134</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="HtEvent-135"><a href="#HtEvent-135"><span class="linenos">135</span></a><span class="sd">    These events contain messages that might be helpful for debugging `ht`.</span>
</span><span id="HtEvent-136"><a href="#HtEvent-136"><span class="linenos">136</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span></pre></div>


            <div class="docstring"><p>Event types that can be subscribed to from the ht process.</p>

<p>The original set of events is documented <a href="https://github.com/andyk/ht?tab=readme-ov-file#events">in the ht repo</a>.</p>

<p>Events added by <code>htty</code>:</p>

<ul>
<li>pid</li>
<li>exitCode</li>
<li>debug</li>
<li>completed</li>
</ul>
</div>


                            <div id="HtEvent.INIT" class="classattr">
                                <div class="attr variable">
            <span class="name">INIT</span>        =
<span class="default_value">&lt;<a href="#HtEvent.INIT">HtEvent.INIT</a>: &#39;init&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.INIT"></a>
    
            <div class="docstring"><p>Same as snapshot event (see below) but sent only once, as the first event after ht's start (when sent to
STDOUT) and upon establishing of WebSocket connection.</p>
</div>


                            </div>
                            <div id="HtEvent.SNAPSHOT" class="classattr">
                                <div class="attr variable">
            <span class="name">SNAPSHOT</span>        =
<span class="default_value">&lt;<a href="#HtEvent.SNAPSHOT">HtEvent.SNAPSHOT</a>: &#39;snapshot&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.SNAPSHOT"></a>
    
            <div class="docstring"><p>Terminal window snapshot. Sent when the terminal snapshot is taken with the takeSnapshot command.</p>

<p>Event data is an object with the following fields:</p>

<ul>
<li>cols - current terminal width, number of columns</li>
<li>rows - current terminal height, number of rows</li>
<li>text - plain text snapshot as multi-line string, where each line represents a terminal row</li>
<li>seq - a raw sequence of characters, which when printed to a blank terminal puts it in the same state as
ht's virtual terminal</li>
</ul>
</div>


                            </div>
                            <div id="HtEvent.OUTPUT" class="classattr">
                                <div class="attr variable">
            <span class="name">OUTPUT</span>        =
<span class="default_value">&lt;<a href="#HtEvent.OUTPUT">HtEvent.OUTPUT</a>: &#39;output&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.OUTPUT"></a>
    
            <div class="docstring"><p>Terminal output. Sent when an application (e.g. shell) running under ht prints something to the terminal.</p>

<p>Event data is an object with the following fields:</p>

<ul>
<li>seq - a raw sequence of characters written to a terminal, potentially including control sequences
(colors, cursor positioning, etc.)</li>
</ul>
</div>


                            </div>
                            <div id="HtEvent.RESIZE" class="classattr">
                                <div class="attr variable">
            <span class="name">RESIZE</span>        =
<span class="default_value">&lt;<a href="#HtEvent.RESIZE">HtEvent.RESIZE</a>: &#39;resize&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.RESIZE"></a>
    
            <div class="docstring"><p>Terminal resize. Send when the terminal is resized with the resize command.</p>

<p>Event data is an object with the following fields:</p>

<ul>
<li>cols - current terminal width, number of columns</li>
<li>rows - current terminal height, number of rows</li>
</ul>
</div>


                            </div>
                            <div id="HtEvent.PID" class="classattr">
                                <div class="attr variable">
            <span class="name">PID</span>        =
<span class="default_value">&lt;<a href="#HtEvent.PID">HtEvent.PID</a>: &#39;pid&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.PID"></a>
    
            <div class="docstring"><p>ht runs the indicated command in <code>sh</code>.
This event provides the pid of that <code>sh</code> process</p>
</div>


                            </div>
                            <div id="HtEvent.EXIT_CODE" class="classattr">
                                <div class="attr variable">
            <span class="name">EXIT_CODE</span>        =
<span class="default_value">&lt;<a href="#HtEvent.EXIT_CODE">HtEvent.EXIT_CODE</a>: &#39;exitCode&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.EXIT_CODE"></a>
    
            <div class="docstring"><p>htty modified ht to stay open even after the command has completed.
This event indicates the exit code of the underlying command.</p>
</div>


                            </div>
                            <div id="HtEvent.COMMAND_COMPLETED" class="classattr">
                                <div class="attr variable">
            <span class="name">COMMAND_COMPLETED</span>        =
<span class="default_value">&lt;<a href="#HtEvent.COMMAND_COMPLETED">HtEvent.COMMAND_COMPLETED</a>: &#39;commandCompleted&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.COMMAND_COMPLETED"></a>
    
            <div class="docstring"><p>htty modified ht to run your command like so:</p>

<p>Previously, ht did the simple thing and ran your command like this:</p>

<pre><code>sh -c '{command}''
</code></pre>

<p>Sometimes, the PTY would shut down before all output was processed by ht, causing snapshots taken
after exit to be incomplete.
To fix this htty modified ht to run your like so:</p>

<pre><code>sh -c '{command} ; exit_code=$? ; /path/to/ht wait-exit /path/to/a/temp/fifo ; exit $exit_code'
</code></pre>

<p>(The fifo is used to notify <code>ht wait-exit</code> that it's safe to exit)</p>

<p>Following this change, the command might complete at one time, and the exit code would be made available later.
This event indicates when the command completed, exitCode appears when the shell exits.</p>
</div>


                            </div>
                            <div id="HtEvent.DEBUG" class="classattr">
                                <div class="attr variable">
            <span class="name">DEBUG</span>        =
<span class="default_value">&lt;<a href="#HtEvent.DEBUG">HtEvent.DEBUG</a>: &#39;debug&#39;&gt;</span>

        
    </div>
    <a class="headerlink" href="#HtEvent.DEBUG"></a>
    
            <div class="docstring"><p>These events contain messages that might be helpful for debugging <code>ht</code>.</p>
</div>


                            </div>
                </section>
                <section id="find_ht_binary">
                            <input id="find_ht_binary-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">find_ht_binary</span><span class="signature pdoc-code condensed">(<span class="return-annotation">) -> <span class="nb">str</span>:</span></span>

                <label class="view-source-button" for="find_ht_binary-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#find_ht_binary"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="find_ht_binary-189"><a href="#find_ht_binary-189"><span class="linenos">189</span></a><span class="k">def</span><span class="w"> </span><span class="nf">find_ht_binary</span><span class="p">()</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
</span><span id="find_ht_binary-190"><a href="#find_ht_binary-190"><span class="linenos">190</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;Find the bundled ht binary.&quot;&quot;&quot;</span>
</span><span id="find_ht_binary-191"><a href="#find_ht_binary-191"><span class="linenos">191</span></a>    <span class="c1"># Check HTTY_HT_BIN environment variable first</span>
</span><span id="find_ht_binary-192"><a href="#find_ht_binary-192"><span class="linenos">192</span></a>    <span class="n">env_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s2">&quot;HTTY_HT_BIN&quot;</span><span class="p">)</span>
</span><span id="find_ht_binary-193"><a href="#find_ht_binary-193"><span class="linenos">193</span></a>    <span class="k">if</span> <span class="n">env_path</span> <span class="ow">and</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">env_path</span><span class="p">):</span>
</span><span id="find_ht_binary-194"><a href="#find_ht_binary-194"><span class="linenos">194</span></a>        <span class="k">return</span> <span class="n">env_path</span>
</span><span id="find_ht_binary-195"><a href="#find_ht_binary-195"><span class="linenos">195</span></a>
</span><span id="find_ht_binary-196"><a href="#find_ht_binary-196"><span class="linenos">196</span></a>    <span class="n">ht_exe</span> <span class="o">=</span> <span class="s2">&quot;ht&quot;</span> <span class="o">+</span> <span class="p">(</span><span class="n">sysconfig</span><span class="o">.</span><span class="n">get_config_var</span><span class="p">(</span><span class="s2">&quot;EXE&quot;</span><span class="p">)</span> <span class="ow">or</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</span><span id="find_ht_binary-197"><a href="#find_ht_binary-197"><span class="linenos">197</span></a>
</span><span id="find_ht_binary-198"><a href="#find_ht_binary-198"><span class="linenos">198</span></a>    <span class="c1"># First, try to find the binary relative to this package installation</span>
</span><span id="find_ht_binary-199"><a href="#find_ht_binary-199"><span class="linenos">199</span></a>    <span class="n">pkg_file</span> <span class="o">=</span> <span class="vm">__file__</span>  <span class="c1"># This file: .../site-packages/htty_core/core.py</span>
</span><span id="find_ht_binary-200"><a href="#find_ht_binary-200"><span class="linenos">200</span></a>    <span class="n">pkg_dir</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">pkg_file</span><span class="p">)</span>  <span class="c1"># .../site-packages/htty_core/</span>
</span><span id="find_ht_binary-201"><a href="#find_ht_binary-201"><span class="linenos">201</span></a>    <span class="n">site_packages</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">pkg_dir</span><span class="p">)</span>  <span class="c1"># .../site-packages/</span>
</span><span id="find_ht_binary-202"><a href="#find_ht_binary-202"><span class="linenos">202</span></a>    <span class="n">python_env</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">site_packages</span><span class="p">)</span>  <span class="c1"># .../lib/python3.x/</span>
</span><span id="find_ht_binary-203"><a href="#find_ht_binary-203"><span class="linenos">203</span></a>    <span class="n">env_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">python_env</span><span class="p">)</span>  <span class="c1"># .../lib/</span>
</span><span id="find_ht_binary-204"><a href="#find_ht_binary-204"><span class="linenos">204</span></a>    <span class="n">actual_env_root</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">dirname</span><span class="p">(</span><span class="n">env_root</span><span class="p">)</span>  <span class="c1"># The actual environment root</span>
</span><span id="find_ht_binary-205"><a href="#find_ht_binary-205"><span class="linenos">205</span></a>
</span><span id="find_ht_binary-206"><a href="#find_ht_binary-206"><span class="linenos">206</span></a>    <span class="c1"># Look for binary in the environment&#39;s bin directory</span>
</span><span id="find_ht_binary-207"><a href="#find_ht_binary-207"><span class="linenos">207</span></a>    <span class="n">env_bin_path</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">actual_env_root</span><span class="p">,</span> <span class="s2">&quot;bin&quot;</span><span class="p">,</span> <span class="n">ht_exe</span><span class="p">)</span>
</span><span id="find_ht_binary-208"><a href="#find_ht_binary-208"><span class="linenos">208</span></a>    <span class="k">if</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">isfile</span><span class="p">(</span><span class="n">env_bin_path</span><span class="p">):</span>
</span><span id="find_ht_binary-209"><a href="#find_ht_binary-209"><span class="linenos">209</span></a>        <span class="k">return</span> <span class="n">env_bin_path</span>
</span><span id="find_ht_binary-210"><a href="#find_ht_binary-210"><span class="linenos">210</span></a>
</span><span id="find_ht_binary-211"><a href="#find_ht_binary-211"><span class="linenos">211</span></a>    <span class="c1"># Only look for the bundled binary - no system fallbacks</span>
</span><span id="find_ht_binary-212"><a href="#find_ht_binary-212"><span class="linenos">212</span></a>    <span class="k">raise</span> <span class="ne">FileNotFoundError</span><span class="p">(</span>
</span><span id="find_ht_binary-213"><a href="#find_ht_binary-213"><span class="linenos">213</span></a>        <span class="sa">f</span><span class="s2">&quot;Bundled ht binary not found at expected location: </span><span class="si">{</span><span class="n">env_bin_path</span><span class="si">}</span><span class="s2">. &quot;</span>
</span><span id="find_ht_binary-214"><a href="#find_ht_binary-214"><span class="linenos">214</span></a>        <span class="sa">f</span><span class="s2">&quot;This indicates a packaging issue with htty-core.&quot;</span>
</span><span id="find_ht_binary-215"><a href="#find_ht_binary-215"><span class="linenos">215</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Find the bundled ht binary.</p>
</div>


                </section>
                <section id="run">
                            <input id="run-view-source" class="view-source-toggle-state" type="checkbox" aria-hidden="true" tabindex="-1">
<div class="attr function">
            
        <span class="def">def</span>
        <span class="name">run</span><span class="signature pdoc-code condensed">(<span class="param"><span class="n">args</span><span class="p">:</span> <span class="n"><a href="#HtArgs">HtArgs</a></span></span><span class="return-annotation">) -> <span class="n">pdoc</span><span class="o">.</span><span class="n">extract</span><span class="o">.</span><span class="n">_PdocDefusedPopen</span><span class="p">[</span><span class="nb">str</span><span class="p">]</span>:</span></span>

                <label class="view-source-button" for="run-view-source"><span>View Source</span></label>

    </div>
    <a class="headerlink" href="#run"></a>
            <div class="pdoc-code codehilite"><pre><span></span><span id="run-218"><a href="#run-218"><span class="linenos">218</span></a><span class="k">def</span><span class="w"> </span><span class="nf">run</span><span class="p">(</span><span class="n">args</span><span class="p">:</span> <span class="n">HtArgs</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">[</span><span class="nb">str</span><span class="p">]:</span>
</span><span id="run-219"><a href="#run-219"><span class="linenos">219</span></a><span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
</span><span id="run-220"><a href="#run-220"><span class="linenos">220</span></a><span class="sd">    Given some `HtArgs` object, run its command via ht.</span>
</span><span id="run-221"><a href="#run-221"><span class="linenos">221</span></a>
</span><span id="run-222"><a href="#run-222"><span class="linenos">222</span></a><span class="sd">    `ht` connect</span>
</span><span id="run-223"><a href="#run-223"><span class="linenos">223</span></a>
</span><span id="run-224"><a href="#run-224"><span class="linenos">224</span></a>
</span><span id="run-225"><a href="#run-225"><span class="linenos">225</span></a><span class="sd">    Returns a subprocess.Popen object representing the running ht process.</span>
</span><span id="run-226"><a href="#run-226"><span class="linenos">226</span></a><span class="sd">    The caller is responsible for managing the process lifecycle.</span>
</span><span id="run-227"><a href="#run-227"><span class="linenos">227</span></a><span class="sd">    &quot;&quot;&quot;</span>
</span><span id="run-228"><a href="#run-228"><span class="linenos">228</span></a>    <span class="n">cmd_args</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">get_command</span><span class="p">()</span>
</span><span id="run-229"><a href="#run-229"><span class="linenos">229</span></a>
</span><span id="run-230"><a href="#run-230"><span class="linenos">230</span></a>    <span class="c1"># Start the process</span>
</span><span id="run-231"><a href="#run-231"><span class="linenos">231</span></a>    <span class="k">return</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span>
</span><span id="run-232"><a href="#run-232"><span class="linenos">232</span></a>        <span class="n">cmd_args</span><span class="p">,</span>
</span><span id="run-233"><a href="#run-233"><span class="linenos">233</span></a>        <span class="n">stdin</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
</span><span id="run-234"><a href="#run-234"><span class="linenos">234</span></a>        <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
</span><span id="run-235"><a href="#run-235"><span class="linenos">235</span></a>        <span class="n">stderr</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">,</span>
</span><span id="run-236"><a href="#run-236"><span class="linenos">236</span></a>        <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
</span><span id="run-237"><a href="#run-237"><span class="linenos">237</span></a>        <span class="n">bufsize</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
</span><span id="run-238"><a href="#run-238"><span class="linenos">238</span></a>    <span class="p">)</span>
</span></pre></div>


            <div class="docstring"><p>Given some <code><a href="#HtArgs">HtArgs</a></code> object, run its command via ht.</p>

<p><code>ht</code> connect</p>

<p>Returns a subprocess.Popen object representing the running ht process.
The caller is responsible for managing the process lifecycle.</p>
</div>


                </section>
                <section id="Command">
                    <div class="attr variable">
            <span class="name">Command</span>        =
<span class="default_value">typing.Annotated[typing.Union[str, list[str]], &#39;run this command (as a subprocess of ht)&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Command"></a>
    
    

                </section>
                <section id="Rows">
                    <div class="attr variable">
            <span class="name">Rows</span>        =
<span class="default_value">typing.Annotated[typing.Optional[int], &#39;number of rows for the headless terminal (default: 30)&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Rows"></a>
    
    

                </section>
                <section id="Cols">
                    <div class="attr variable">
            <span class="name">Cols</span>        =
<span class="default_value">typing.Annotated[typing.Optional[int], &#39;number of columns for the headless terminal (default: 60)&#39;]</span>

        
    </div>
    <a class="headerlink" href="#Cols"></a>
    
    

                </section>
                <section id="__version__">
                    <div class="attr variable">
            <span class="name">__version__</span>        =
<span class="default_value">&#39;0.2.25&#39;</span>

        
    </div>
    <a class="headerlink" href="#__version__"></a>
    
    

                </section>
    </main>
</body>
</html>